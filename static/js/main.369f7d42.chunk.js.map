{"version":3,"sources":["API/youtube.js","icons/sprite.svg","components/SearchBar.js","components/VideoItem.js","components/VideoList.js","components/VideoDetail.js","components/App.js","index.js"],"names":["axios","create","baseURL","params","part","type","key","SearchBar","state","input","error","handleSubmit","e","preventDefault","props","onFormSubmit","handleChange","target","value","length","setState","this","className","Form","onSubmit","Control","placeholder","onChange","noValidate","Button","variant","xlinkHref","svg","Alert","React","Component","VideoItem","video","onVideoSelect","snippet","publishedAt","title","channelTitle","url","thumbnails","medium","date","Date","convertedDate","getFullYear","getMonth","padStart","getDate","onClick","src","alt","VideoList","videos","renderedList","map","id","videoId","VideoDetail","Spinner","animation","description","ResponsiveEmbed","aspectRatio","App","selectedVideo","pageToken","search","onInputSubmit","a","youtube","get","q","maxResults","catch","err","response","console","status","request","message","data","items","nextPageToken","loadVideos","Container","dataLength","next","hasMore","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.369f7d42.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst KEY = 'AIzaSyCUga9zn-ATQv2iJ-gYeiR0bpWowqBS-fc';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://www.googleapis.com/youtube/v3',\r\n  params: {\r\n    part: 'snippet',\r\n    type: 'video',\r\n    key: KEY,\r\n  },\r\n});\r\n","export default __webpack_public_path__ + \"static/media/sprite.0eaa72c4.svg\";","import React from 'react';\r\nimport { Form, Button, Alert } from 'react-bootstrap';\r\nimport svg from '../icons/sprite.svg';\r\n\r\nclass SearchBar extends React.Component {\r\n  state = { input: '', error: '' };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (!this.state.error) this.props.onFormSubmit(this.state.input);\r\n  };\r\n\r\n  handleChange = e => {\r\n    let error = this.state.error;\r\n\r\n    if (e.target.value) {\r\n      error =\r\n        e.target.value.length > 20 ? 'Input is longer than 20 characters.' : '';\r\n    }\r\n\r\n    this.setState({ input: e.target.value, error });\r\n  };\r\n\r\n  render() {\r\n    const { error, input } = this.state;\r\n    return (\r\n      <div className=\"w-75\">\r\n        <Form onSubmit={this.handleSubmit} className=\"d-flex w-100 my-3\">\r\n          <Form.Control\r\n            className=\"rounded-0 header__input\"\r\n            placeholder=\"Search for a videos...\"\r\n            type=\"text\"\r\n            value={input}\r\n            onChange={this.handleChange}\r\n            noValidate\r\n          ></Form.Control>\r\n          <Button variant=\"dark\" className=\"rounded-0\" type=\"submit\">\r\n            <svg className=\"header__icon\">\r\n              <use xlinkHref={`${svg}#icon-magnifying-glass`} />\r\n            </svg>\r\n          </Button>\r\n        </Form>\r\n        {error && (\r\n          <Alert variant=\"danger\" className=\"h5\">\r\n            {error}\r\n          </Alert>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from 'react';\r\n\r\nconst VideoItem = ({ video, onVideoSelect }) => {\r\n  const {\r\n    snippet: {\r\n      publishedAt,\r\n      title,\r\n      channelTitle,\r\n      thumbnails: {\r\n        medium: { url },\r\n      },\r\n    },\r\n  } = video;\r\n\r\n  const date = new Date(publishedAt);\r\n  const convertedDate =\r\n    date.getFullYear() +\r\n    '-' +\r\n    `${date.getMonth() + 1}`.padStart(2, 0) +\r\n    '-' +\r\n    `${date.getDate()}`.padStart(2, 0);\r\n\r\n  return (\r\n    <ul onClick={() => onVideoSelect(video)}>\r\n      <li>\r\n        <img className=\"w-100\" src={url} alt={title} />\r\n        <h3 className=\"pt-2 font-weight-bolder\">{title}</h3>\r\n        <div className=\"d-flex\">\r\n          <span>{channelTitle}</span>\r\n          <span className=\"ml-auto\">{convertedDate}</span>\r\n        </div>\r\n        <hr></hr>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default VideoItem;\r\n","import React from 'react';\r\nimport VideoItem from './VideoItem';\r\n\r\nconst VideoList = ({ videos, onVideoSelect }) => {\r\n  const renderedList = videos.map(video => {\r\n    return (\r\n      <VideoItem\r\n        key={video.id.videoId}\r\n        onVideoSelect={onVideoSelect}\r\n        video={video}\r\n      />\r\n    );\r\n  });\r\n\r\n  return <div className=\"p-2\">{renderedList}</div>;\r\n};\r\n\r\nexport default VideoList;\r\n","import React from 'react';\r\nimport { ResponsiveEmbed, Spinner } from 'react-bootstrap';\r\n\r\nconst VideoDetail = ({ video }) => {\r\n  if (!video) return <Spinner animation=\"border\" className=\"my-3\" />;\r\n\r\n  const {\r\n    id: { videoId },\r\n    snippet: { title, channelTitle, description, publishedAt },\r\n  } = video;\r\n\r\n  const date = new Date(publishedAt);\r\n  const convertedDate =\r\n    date.getFullYear() +\r\n    '-' +\r\n    `${date.getMonth() + 1}`.padStart(2, 0) +\r\n    '-' +\r\n    `${date.getDate()}`.padStart(2, 0);\r\n\r\n  return (\r\n    <div className=\"details p-2\">\r\n      <ResponsiveEmbed aspectRatio=\"16by9\">\r\n        <iframe\r\n          title=\"video player\"\r\n          src={`https://www.youtube.com/embed/${videoId}`}\r\n        />\r\n      </ResponsiveEmbed>\r\n      <div>\r\n        <h1 className=\"font-weight-bold my-3\">{title}</h1>\r\n        <hr></hr>\r\n        <div className=\"d-flex my-2 font-weight-bolder\">\r\n          <h3>{channelTitle}</h3>\r\n          <span className=\"ml-auto\">{convertedDate}</span>\r\n        </div>\r\n        <p>{description}</p>\r\n        <hr></hr>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoDetail;\r\n","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport youtube from '../API/youtube';\r\nimport SearchBar from './SearchBar';\r\nimport VideoList from './VideoList';\r\nimport VideoDetail from './VideoDetail';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport '../styles.css';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    videos: [],\r\n    selectedVideo: null,\r\n    pageToken: '',\r\n    search: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.onInputSubmit(\"the blancos we're tired\");\r\n  }\r\n\r\n  onInputSubmit = async input => {\r\n    const {\r\n      data: { items, nextPageToken },\r\n    } = await youtube\r\n      .get('/search', {\r\n        params: {\r\n          q: input,\r\n          maxResults: 7,\r\n        },\r\n      })\r\n      .catch(err => {\r\n        //err > 500 ? server side : user\r\n        err.response\r\n          ? console.error(`Server responded with status ${err.response.status}`)\r\n          : err.request\r\n          ? console.error(`Can't get response ${err.request}`)\r\n          : console.error(\r\n              `Something happened in setting up the request ${err.message}`\r\n            );\r\n      });\r\n\r\n    this.setState({\r\n      videos: items,\r\n      selectedVideo: items[0],\r\n      pageToken: nextPageToken,\r\n      search: input,\r\n    });\r\n  };\r\n\r\n  onVideoSelect = video => {\r\n    this.setState({ selectedVideo: video });\r\n  };\r\n\r\n  loadVideos = async () => {\r\n    const { pageToken, search } = this.state;\r\n\r\n    const {\r\n      data: { items, nextPageToken },\r\n    } = await youtube\r\n      .get('/search', {\r\n        params: {\r\n          q: search,\r\n          pageToken: pageToken,\r\n          maxResults: 7,\r\n        },\r\n      })\r\n      .catch(err => {\r\n        err.response\r\n          ? console.error(`Server responded with status ${err.response.status}`)\r\n          : err.request\r\n          ? console.error(`Can't get response ${err.request}`)\r\n          : console.error(\r\n              `Something happened in setting up the request ${err.message}`\r\n            );\r\n      });\r\n\r\n    this.setState({\r\n      pageToken: nextPageToken,\r\n      videos: [...this.state.videos, ...items],\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { videos, selectedVideo } = this.state;\r\n\r\n    return (\r\n      <Container className=\"p-0\">\r\n        <header className=\"bg-white d-flex justify-content-center align-items-center header\">\r\n          <SearchBar onFormSubmit={this.onInputSubmit} />\r\n        </header>\r\n        <main className=\"bg-light d-md-flex\">\r\n          <div className=\"col-md-8 py-3\">\r\n            <VideoDetail video={selectedVideo} />\r\n          </div>\r\n          <div className=\"col-md-4 py-3\">\r\n            <InfiniteScroll\r\n              dataLength={videos.length}\r\n              next={this.loadVideos}\r\n              hasMore={true}\r\n            >\r\n              <VideoList onVideoSelect={this.onVideoSelect} videos={videos} />\r\n            </InfiniteScroll>\r\n          </div>\r\n        </main>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}